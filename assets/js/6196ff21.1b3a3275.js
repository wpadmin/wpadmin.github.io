"use strict";(self.webpackChunkdev_notes=self.webpackChunkdev_notes||[]).push([[8206],{4251:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>_,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"wordpress/actions","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u043b\u0435\u0439 \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432","description":"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CSS \u0438 JavaScript \u0432 WordPress \u0438\u043c\u0435\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430. \u0412\u043e\u0442 \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434:","source":"@site/docs/wordpress/actions.md","sourceDirName":"wordpress","slug":"/wordpress/actions","permalink":"/docs/wordpress/actions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"PHP","permalink":"/docs/php"},"next":{"title":"hooks","permalink":"/docs/wordpress/hooks"}}');var i=s(4848),r=s(8453);const c={},a="\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u043b\u0435\u0439 \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432",d={},o=[{value:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u043b\u0435\u0439 (CSS)",id:"\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0441\u0442\u0438\u043b\u0435\u0439-css",level:2},{value:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 (JS)",id:"\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432-js",level:2},{value:"\u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446:",id:"\u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0434\u043b\u044f-\u0440\u0430\u0437\u043d\u044b\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446",level:2},{value:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438:",id:"\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438",level:2},{value:"\u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446:",id:"\u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0434\u043b\u044f-\u0440\u0430\u0437\u043d\u044b\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446-1",level:2},{value:"\u0418\u043d\u043b\u0430\u0439\u043d \u0441\u0442\u0438\u043b\u0438 \u0432 WordPress",id:"\u0438\u043d\u043b\u0430\u0439\u043d-\u0441\u0442\u0438\u043b\u0438-\u0432-wordpress",level:2},{value:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e CSS \u0438\u0437 \u0444\u0430\u0439\u043b\u0430",id:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430-\u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e-css-\u0438\u0437-\u0444\u0430\u0439\u043b\u0430",level:3},{value:"\u0418\u043d\u043b\u0430\u0439\u043d \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0432 WordPress",id:"\u0438\u043d\u043b\u0430\u0439\u043d-\u0441\u043a\u0440\u0438\u043f\u0442\u044b-\u0432-wordpress",level:2},{value:"\u041f\u0440\u044f\u043c\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0432 head \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",id:"\u043f\u0440\u044f\u043c\u043e\u0435-\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432-\u0432-head-\u0434\u043b\u044f-\u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e-\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",level:3},{value:"\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 WooCommerce",id:"\u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432-woocommerce",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0441\u0442\u0438\u043b\u0435\u0439-\u0438-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432",children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u043b\u0435\u0439 \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432"})}),"\n",(0,i.jsx)(n.p,{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CSS \u0438 JavaScript \u0432 WordPress \u0438\u043c\u0435\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430. \u0412\u043e\u0442 \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434:"}),"\n",(0,i.jsx)(n.h2,{id:"\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0441\u0442\u0438\u043b\u0435\u0439-css",children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u043b\u0435\u0439 (CSS)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function theme_enqueue_styles() {\n    // \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u0442\u0438\u043b\u044c \u0442\u0435\u043c\u044b\n    wp_enqueue_style('main-style', get_stylesheet_uri(), array(), filemtime(get_stylesheet_directory() . '/style.css'));\n    \n    // \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0438\u043b\u0438\n    wp_enqueue_style('extra-style', get_template_directory_uri() . '/assets/css/extra.css', array(), filemtime(get_stylesheet_directory() . '/assets/css/extra.css'));\n}\nadd_action('wp_enqueue_scripts', 'theme_enqueue_styles');\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432-js",children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 (JS)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function theme_enqueue_scripts() {\n    // \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c jQuery \u0438\u0437 WordPress\n    wp_enqueue_script('jquery');\n    \n    // \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u044b\n    wp_enqueue_script('main-script', get_template_directory_uri() . '/assets/js/main.js', array('jquery'), filemtime(get_stylesheet_directory() . '/assets/js/main.js'), true);\n    \n    // \u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0432 JavaScript\n    wp_localize_script('main-script', 'ajax_object', array(\n        'ajax_url' => admin_url('admin-ajax.php'),\n        'nonce' => wp_create_nonce('ajax-nonce')\n    ));\n}\nadd_action('wp_enqueue_scripts', 'theme_enqueue_scripts');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0434\u043b\u044f-\u0440\u0430\u0437\u043d\u044b\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446",children:"\u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function conditional_scripts() {\n    // \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n    if (is_front_page()) {\n        wp_enqueue_script('home-script', get_template_directory_uri() . '/assets/js/home.js', array(), filemtime(get_stylesheet_directory() . '/assets/js/home.js'), true);\n    }\n    \n    // \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0431\u043b\u043e\u0433\u0430\n    if (is_single() || is_archive()) {\n        wp_enqueue_style('blog-style', get_template_directory_uri() . '/assets/css/blog.css', array(), filemtime(get_stylesheet_directory() . '/assets/css/blog.css'));\n    }\n}\nadd_action('wp_enqueue_scripts', 'conditional_scripts');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function add_async_defer_attributes($tag, $handle, $src) {\n    // \u0414\u043b\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438\n    if ('analytics-script' === $handle) {\n        return str_replace(' src', ' async defer src', $tag);\n    }\n    return $tag;\n}\nadd_filter('script_loader_tag', 'add_async_defer_attributes', 10, 3);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0435-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u0434\u043b\u044f-\u0440\u0430\u0437\u043d\u044b\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446-1",children:"\u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function conditional_scripts() {\n    // \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n    if (is_front_page()) {\n        wp_enqueue_script('home-script', get_template_directory_uri() . '/assets/js/home.js', array(), filemtime(get_stylesheet_directory() . '/assets/js/home.js'), true);\n    }\n    \n    // \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0431\u043b\u043e\u0433\u0430\n    if (is_single() || is_archive()) {\n        wp_enqueue_style('blog-style', get_template_directory_uri() . '/assets/css/blog.css', array(), filemtime(get_stylesheet_directory() . '/assets/css/blog.css'));\n    }\n}\nadd_action('wp_enqueue_scripts', 'conditional_scripts');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u0438\u043d\u043b\u0430\u0439\u043d-\u0441\u0442\u0438\u043b\u0438-\u0432-wordpress",children:"\u0418\u043d\u043b\u0430\u0439\u043d \u0441\u0442\u0438\u043b\u0438 \u0432 WordPress"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function add_critical_inline_styles() {\n    // \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u0441\u0442\u0438\u043b\u044c\n    wp_register_style('main-style', get_stylesheet_uri());\n    \n    // \u0418\u043d\u043b\u0430\u0439\u043d CSS \u0434\u043b\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0442\u0438\u043b\u0435\u0439\n    $critical_css = '\n        header { \n            background-color: #fff;\n            position: sticky;\n            top: 0;\n            z-index: 100;\n        }\n        .hero-section {\n            min-height: 80vh;\n            display: flex;\n            align-items: center;\n        }\n    ';\n    \n    // \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0438\u043d\u043b\u0430\u0439\u043d \u0441\u0442\u0438\u043b\u044c, \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u043c \u0441 main-style\n    wp_add_inline_style('main-style', $critical_css);\n    \n    // \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u0441\u0442\u0438\u043b\u044c\n    wp_enqueue_style('main-style');\n}\nadd_action('wp_enqueue_scripts', 'add_critical_inline_styles');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430-\u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e-css-\u0438\u0437-\u0444\u0430\u0439\u043b\u0430",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e CSS \u0438\u0437 \u0444\u0430\u0439\u043b\u0430"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function add_critical_css_from_file() {\n    $critical_css_path = get_template_directory() . '/assets/css/critical.css';\n    \n    if (file_exists($critical_css_path)) {\n        $critical_css = file_get_contents($critical_css_path);\n        \n        // \u0412\u044b\u0432\u043e\u0434\u0438\u043c \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0432 head\n        echo '<style id=\"critical-css\">' . $critical_css . '</style>';\n    }\n}\nadd_action('wp_head', 'add_critical_css_from_file', 1);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u0438\u043d\u043b\u0430\u0439\u043d-\u0441\u043a\u0440\u0438\u043f\u0442\u044b-\u0432-wordpress",children:"\u0418\u043d\u043b\u0430\u0439\u043d \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0432 WordPress"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function add_inline_script() {\n    // \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u0441\u043a\u0440\u0438\u043f\u0442\n    wp_enqueue_script('main-script', get_template_directory_uri() . '/assets/js/main.js', array(), '1.0', true);\n    \n    // \u0418\u043d\u043b\u0430\u0439\u043d JavaScript\n    $inline_js = '\n        document.addEventListener(\"DOMContentLoaded\", function() {\n            const header = document.querySelector(\"header\");\n            const scrollWatcher = () => {\n                if (window.scrollY > 100) {\n                    header.classList.add(\"scrolled\");\n                } else {\n                    header.classList.remove(\"scrolled\");\n                }\n            };\n            window.addEventListener(\"scroll\", scrollWatcher);\n        });\n    ';\n    \n    // \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0438\u043d\u043b\u0430\u0439\u043d \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u043e\u0441\u043b\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e\n    wp_add_inline_script('main-script', $inline_js, 'after');\n}\nadd_action('wp_enqueue_scripts', 'add_inline_script');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u043f\u0440\u044f\u043c\u043e\u0435-\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432-\u0432-head-\u0434\u043b\u044f-\u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e-\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",children:"\u041f\u0440\u044f\u043c\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0432 head \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function add_direct_inline_script() {\n    ?>\n    <script>\n        // \u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f FOUC (\u043c\u0438\u0433\u0430\u043d\u0438\u044f \u043d\u0435\u0441\u0442\u0438\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430)\n        document.documentElement.className = document.documentElement.className.replace('no-js', 'js');\n        \n        // \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432\n        window.siteConfig = {\n            ajaxUrl: '<?php echo admin_url('admin-ajax.php'); ?>',\n            isLoggedIn: <?php echo is_user_logged_in() ? 'true' : 'false'; ?>,\n            isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n        };\n    <\/script>\n    <?php\n}\nadd_action('wp_head', 'add_direct_inline_script', 1);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432-woocommerce",children:"\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 WooCommerce"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"function optimize_woocommerce_scripts() {\n    // \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u043d\u0430 \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u0445\n    if (!is_woocommerce() && !is_cart() && !is_checkout() && !is_account_page()) {\n        // \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0441\u0442\u0438\u043b\u0438 WooCommerce\n        wp_dequeue_style('woocommerce-general');\n        wp_dequeue_style('woocommerce-layout');\n        wp_dequeue_style('woocommerce-smallscreen');\n        \n        // \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u044b\n        wp_dequeue_script('woocommerce');\n        wp_dequeue_script('wc-cart-fragments');\n        wp_dequeue_script('wc-add-to-cart');\n    }\n    \n    // \u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u0443\u0435\u043c \u043a\u043e\u0440\u0437\u0438\u043d\u0443\n    if (!is_cart() && !is_checkout()) {\n        wp_dequeue_script('wc-cart');\n    }\n    \n    // \u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u043e\u0435\n    if (is_product()) {\n        // \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0438\u043d\u043b\u0430\u0439\u043d \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\n        $product_js = '\n            document.addEventListener(\"DOMContentLoaded\", function() {\n                const addToCartBtn = document.querySelector(\".single_add_to_cart_button\");\n                if (addToCartBtn) {\n                    addToCartBtn.addEventListener(\"click\", function() {\n                        gtag(\"event\", \"add_to_cart\", {\n                            product_id: ' . get_the_ID() . '\n                        });\n                    });\n                }\n            });\n        ';\n        wp_add_inline_script('wc-single-product', $product_js);\n    }\n}\nadd_action('wp_enqueue_scripts', 'optimize_woocommerce_scripts', 99);\n"})})]})}function _(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);